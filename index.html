<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" /> 
<meta http-equiv="Pragma" content="no-cache" /> 
<meta http-equiv="Expires" content="0" />
    <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.colors.min.css" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <title>Horizon 里森 - 享受阅读</title>
</head>

<body>
<!-- Nav 导航栏 -->
    <nav>
        <ul>
            <li><a href="#">首页</a></li>
            <li><a href="#">分类</a></li>
            <li><a href="setting/index.html">设置</a></li>
        </ul>
    </nav>
    <br>
    <div class="user-info">
        <div class="user-image-control">
            <img src="image/default_avatar.jpg" class="user-image" id="avatar">
            <br><br>
        </div>
        <div class="user-text">
            <h1><span id="name">Reader</span></h1>
            <p><b style="color: red;">适配原因，该功能随时可能会被下架</b></p>
        </div>
    </div>
    <br>
    <br>
    <h1 class="top-30">所有作品</h1>
<!-- 渲染作品信息Temple -->
    <div id="app"></div>

    <script src="https://unpkg.com/vue@3.4.31/dist/vue.global.js"></script>
<script>
  Vue.createApp({
    data() {
      return {
        booksData: []
      };
    },
    mounted() {
      fetch('../json/books.json')
      .then(response => response.json())
      .then(data => {
          this.booksData = data;
          this.renderBooks();
        })
      .catch(error => {
          console.error('获取数据出错:', error);
        });
    },
    methods: {
      renderBooks() {
        this.booksData.forEach(book => {
          const article = document.createElement('article');
          article.innerHTML = `
            <h1>${book.book_name}</h1>
            <p>发布时间：${book.book_time}</p>
            <hr>
            <details>
                <summary>目录</summary>
            </details>
            <hr>
            <a href="${book.book_link}/?chapter=chapter-1" role="button">立即阅读</a>
          `;
          document.getElementById('app').appendChild(article);
        });
      }
    }
  }).mount('#app');
</script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="js/script.js"></script>

</body>

</html>